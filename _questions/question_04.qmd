<!-- question-type: inclass -->

### Exercise 4: Seasonal Adjustment for Unemployment Data

When you retrieve the unemployment data from FRED using the series tag, `UNRATE`, you obtain seasonally adjusted unemployment rate.

![](Images/unemployment_rate.png)

In this exercise, we are going to get a deeper understanding of seasonal adjustment by comparing seasonally adjusted and unadjusted unemployment rate. 




#### (a) Retrieve Data

- Search using the FRED API (or the FRED's website) to obtain tags for both seasonally adjusted and unadjusted unemployment rate.


- Use `fredr` to acquire both seasonally adjusted and unadjusted unemployment rate data in the period "2020-01-01 to 2024-12-31."

```{r}
#| eval: false
# Unemployment rate (seasonally adjusted)
unrate_sa <- YOUR_CODE(
  YOUR_CODE = "YOUR_CODE",
  observation_start = "YOUR_CODE",
  observation_end = "YOUR_CODE"
) %>% select(YOUR_CODE) 
# keep date and unemployment rate (adjusted), rename it as "unrate_sa"

# Unemployment rate (seasonally unadjusted)
unrate_nsa <- YOUR_CODE(
  YOUR_CODE = "YOUR_CODE",
  observation_start = "YOUR_CODE",
  observation_end = "YOUR_CODE"
) %>% select(YOUR_CODE) 
# keep date and unemployment rate (unadjusted), rename it as "unrate_nsa"
```

#### (b) Visualize Unemployment Rates

Plot the two series of data in the same plot with time as the horizontal axis and unemployment rate (%) as the vertical axis. Discuss (1) how the two lines differ from each other and (2) which one is more useful?

```{r}
#| eval: false
ggplot() +
  YOUR_CODE(data = unrate_sa, 
            aes(x = YOUR_CODE, y = YOUR_CODE, 
                color = "Seasonally Adjusted (%)")) +
  YOUR_CODE(data = unrate_nsa, 
            aes(x = YOUR_CODE, y = YOUR_CODE, 
                color = "Non Seasonally Adjusted (%)")) +
  labs(
    title = "Unemployment Rate (Adjusted vs. Unadjusted)",
    x = "Year-Month", y = "Percent", color = NULL
  ) +
  scale_x_date(date_labels = "%Y-%m", 
               date_breaks = "3 months") + # Set up date labels for x-axis 
  theme_minimal(base_size = 12) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) + 
  # Avoid text labels from overlapping with each other
  theme(legend.position = "top")

```

#### (c) Seasonal Adjustments

Although you are not required to master the recipe and the algorithms that the FRED uses to adjust seasonality, you may use the two series (adjusted and unadjusted) to reverse-engineer the seasonal adjustments made to the data.


(c1) Merge seasonal adjusted and unadjusted unemployment rates and calculate the adjustment made to the unadjusted number.

```{r}
#| eval: false
# Merge two series of data and 
# generate a new variable "adjustment" for the adjustment made 
adjustment <- YOUR_CODE

```

(c2) Visualize the pattern of seasonal adjustments

```{r}
#| eval: false
ggplot(YOUR_DATA, aes(x = YOUR_VARIABLE, y = YOUR_VARIABLE)) +
  YOUR_CODE() +
  # Add a dashed line = 0 
  geom_hline(yintercept = 0, color = "red", linetype = "dashed") +
  labs(
    title = "Seasonal Adjustments Made to Unemployment Rates (%)",
    subtitle = "UNRATE â€“ UNRATENSA",
    x = "Year-Month", y = "Seasonal Adjustment (%)"
  ) +
  scale_x_date(date_labels = "%Y-%m", date_breaks = "3 months") +
  theme_minimal(base_size = 12) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

#### (d) Discuss your Findings

-   Do you observe any seasonality in the unemployment rate data? What would be the possible causes of the seasonality?

-   Why is seasonal adjustment important when working on unemployment data?


<!-- BEGIN PROFILE:r-teaching-guide -->

:::::: {.content-visible when-profile="r-teaching-guide"}
::::: teaching-block
::: teaching-block-header
Teaching Note
:::

::: teaching-block-body
ðŸŽ¯ **Learning Objective** Students should:

-   Use the FRED API to retrieve data and visualize data using `ggplot2`.
-   Understand the concept of seasonal adjustment and interpret seasonality observed in data.

âœ… **Core Concepts to Highlight**

-   Unemployment rate: The number of unemployed as a percentage of the labor force (year 16+).
-   Seasonal adjustment: Seasonal adjustment is a statistical technique used to remove predictable, recurring fluctuations in data that happen at the same time every year (seasonal patterns). It allows us to better see the underlying trends and cyclical movements in economic data.

ðŸ’¬ **Suggested In-Class Prompts** (if needed)

After students producing the plots:

-   Can you observe any difference between seasonally adjusted and unadjusted plots? Which one makes more sense to you?

-   Based on the seasonal adjustment plot, which months/quarters are mostly likely to have higher unadjusted unemployment rate (or equivalently, downward adjustments)? Can you make guesses to why this is the case?

ðŸ“Œ **Common Misunderstandings**

When calculating the adjustments made to unemployment rates, student may reverse the subtracting operation (i.e., "unadjusted - adjusted" rather than "adjusted - unadjusted").


:::
:::::
::::::

<!-- END PROFILE:r-teaching-guide -->

<!-- BEGIN PROFILE:r-solutions -->

:::::: {.content-visible when-profile="r-solutions" when-profile="r-teaching-guide"}
::::: solution-block
::: solution-block-header
Solution
:::

::: solution-block-body

#### (a)

```{r}
# Load packages
library(fredr) # Package for Using FRED API
library(dplyr)
library(ggplot2)
library(lubridate)

# Assign your API key to a variable "api_key"
api_key <- "68dfb3ed54ef8ffd7c9b618e74839e4d" 
# Set API Key 
fredr_set_key(api_key)
```

The series IDs for seasonally adjusted and unadjusted unemployment rates are `UNRATE` and `UNRATENSA`, respectively. You can find the information either through the FRED website or `fredr_series_search_text()`.

```{r}
# Unemployment rate (seasonally adjusted)
unrate_sa <- fredr(
  series_id = "UNRATE",
  observation_start = as.Date("2020-01-01"),
  observation_end = as.Date("2024-12-31")
) %>% select(date, unrate_sa = value) 
# keep date and unemployment rate (adjusted), rename it as "unrate_sa"

# Unemployment rate (non seasonally adjusted)
unrate_nsa <- fredr(
  series_id = "UNRATENSA",
  observation_start = as.Date("2020-01-01"),
  observation_end = as.Date("2024-12-31")
) %>% select(date, unrate_nsa = value) 
# keep date and unemployment rate (unadjusted), rename it as "unrate_nsa"
```


#### (b)

```{r}
ggplot() +
  geom_line(data = unrate_sa, 
            aes(x = date, y = unrate_sa, 
                color = "Seasonally Adjusted (%)")) +
  geom_line(data = unrate_nsa, 
            aes(x = date, y = unrate_nsa, 
                color = "Non Seasonally Adjusted (%)")) +
  labs(
    title = "Unemployment Rate (Adjusted vs. Unadjusted)",
    x = "Year-Month", y = "Percent", color = NULL
  ) +
scale_x_date(date_labels = "%Y-%m", 
             date_breaks = "3 months") + # Set up date labels for x-axis 
  theme_minimal(base_size = 12) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) + 
  # Avoid text labels from overlapping with each other
  theme(legend.position = "top")

```

#### (c1)

```{r}
# Merge two series of data and generate a new variable "adjustment" for the adjustment made 
adjustment <- inner_join(unrate_nsa, unrate_sa, by = "date") %>%
    mutate(adjustment = unrate_sa - unrate_nsa)
```

#### (c2)

```{r}
ggplot(adjustment, aes(x = date, y = adjustment)) +
  geom_line() +
  # Add a dashed line = 0 
  geom_hline(yintercept = 0, color = "red", linetype = "dashed") +
  labs(
    title = "Seasonal Adjustments Made to Unemployment Rates (%)",
    subtitle = "UNRATE â€“ UNRATENSA",
    x = "Year-Month", y = "Seasonal Adjustment (%)"
  ) +
  scale_x_date(date_labels = "%Y-%m", date_breaks = "3 months") +
  theme_minimal(base_size = 12) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

#### (d)

**Do you observe any seasonality in the unemployment rate data? What would be the possible causes of the seasonality?**

-   From the plot of the adjustments made to unemployment rates, there is a clear pattern that unemployment rates are adjusted **downwards** in January and July every year.
-   For January:
  -   Many retailers, warehouses, delivery services, and hospitality businesses hire extra staff in November and December for the holiday season. In January, those temporary workers are laid off, resulting in unemployment rate spikes.
  -   Construction and agriculture activity tends to fall sharply during winter months in much of the U.S., which temporarily reduces employment.
-   For July:
  -   In June and July, many high school and college students graduate and start looking for jobs. They are counted as unemployed until they find work, causing a seasonal uptick.
  
**Why is seasonal adjustment important when working on unemployment data?**
-   These patterns repeat every year, so raw (not seasonally adjusted) unemployment data will always show spikes in January and July. These spikes in unemployment rates do not necessarily mean that the economy is worsening.
-   Seasonal adjustment filters out these predictable fluctuations so we can focus on the true underlying labor market trend (e.g., recession vs recovery)
:::
:::::
::::::

<!-- END PROFILE:r-solutions -->
